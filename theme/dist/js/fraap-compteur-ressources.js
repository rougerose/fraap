(()=>{let t=document.querySelectorAll("[data-compteur]");t&&window.IntersectionObserver&&t.forEach((t=>{let e={debut:0,fin:parseInt(t.getAttribute("data-compteur-total"),10)||0,texte:"0",html:t.querySelector("[data-compteur-html]"),duree:parseInt(t.getAttribute("data-compteur-duree"),10)||1e3,delai:parseInt(t.getAttribute("data-compteur-delai"),10)||0};t.setAttribute("data-compteur-animation","wait"),((t,e)=>{let r=e.html,a=e.debut.toLocaleString("fr",{minimumIntegerDigits:3});r&&(r.innerHTML=e.texte.replace(e.texte,a))})(0,e);let r=new IntersectionObserver(((t,r)=>{let a=t[0];a.isIntersecting&&(a.target.setAttribute("data-compteur-animation","true"),((t,e)=>{let r=e.html,a=e.debut,i=Math.ceil(e.duree/e.fin-e.debut);setTimeout((()=>{let t=setInterval((function(){a+=(e.fin-e.debut)/Math.abs(e.fin-e.debut)*1,r.innerHTML=a.toLocaleString("fr",{minimumIntegerDigits:3}),a==e.fin&&clearInterval(t)}),i)}),e.delai)})(0,e),r.unobserve(a.target))}),{threshold:.7});r.observe(t)}))})();
