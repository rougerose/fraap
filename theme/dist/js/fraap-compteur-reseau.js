(()=>{let e=document.querySelector("[data-network]");if(e&&window.IntersectionObserver){let t=e.querySelector("[data-network-counter]");e.querySelector(".teaser-network_content");let r=e.querySelector("[data-network-map]"),n={debut:0,fin:parseInt(e.getAttribute("data-network-total"),10)||0,texte:"0",html:t.querySelector("[data-network-counter-text]"),duree:parseInt(e.getAttribute("data-network-duree"),10)||1e3,delai:parseInt(e.getAttribute("data-network-delai"),10)||0};e.setAttribute("data-network-animation","wait"),((e,t)=>{let r=t.html,n=t.debut.toLocaleString("fr",{minimumIntegerDigits:3});r&&(r.innerHTML=t.texte.replace(t.texte,n))})(0,n);let a=new IntersectionObserver(((e,t)=>{let a=e[0];a.isIntersecting&&(a.target.setAttribute("data-network-animation","true"),((e,t)=>{let r=t.html,n=t.debut,a=Math.ceil(t.duree/t.fin-t.debut);setTimeout((()=>{let e=setInterval((function(){n+=(t.fin-t.debut)/Math.abs(t.fin-t.debut)*1,r.innerHTML=n.toLocaleString("fr",{minimumIntegerDigits:3}),n==t.fin&&clearInterval(e)}),a)}),t.delai)})(0,n),((e,t)=>{let r=e.querySelector("#mapGroup2").querySelectorAll("circle"),n=t.fin,a=[].slice.call(r),l=[],i=Math.ceil(t.duree/(t.fin-t.debut));a=function(e){let t,r=e.length;for(;0!=r;)t=Math.floor(Math.random()*r),r--,[e[r],e[t]]=[e[t],e[r]];return e}(a),l=a.slice(0,n),((e,t,r)=>{let n=0,a=setInterval((()=>{e[n].classList.add("teaser-network_map-dot"),n++,n>=e.length-1&&clearInterval(a)}),r)})(l,0,i)})(r,n),t.unobserve(a.target))}),{threshold:.2});a.observe(e)}})();
