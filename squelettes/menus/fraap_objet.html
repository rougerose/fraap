[(#REM)
  <!--
    Surcharge de menus/objet.html
    .
    - Les classes par défaut sont supprimées.
    - Préciser dans la saisie si l'objet possède des enfants afin de spécifier le "data-type-lien" : (menu) déroulant ou lien (simple). Cette information est utilisée par js afin de transformer le lien en bouton d'ouverture d'un menu déroulant ou interface équivalente.
    - L'état actif de la page est affiché dans data-state (et non plus dans
    la classe).
    .
  -->
]

#SET{id_objet, #ENV{id_objet}}
[(#SET{titre, #ENV*{titre}|typo|sinon{#INFO_TITRE{#ENV{type_objet}, #GET{id_objet}}}|sinon{<:info_sans_titre:>}})]

#SET{visible, oui}
[(#ENV{type_objet}|objet_test_si_publie{#GET{id_objet}}|non) #SET{visible, non}]

[(#SET{enfants, #ENV*{enfants, non}})]
[(#GET{enfants}|!=={oui}|oui) #SET{enfants, non} ]

[(#ENV{appel_formulaire}|oui)
	<div class="titre">#GET{titre}</div>
	<div class="infos">#ENV{type_objet}-#GET{id_objet}[. L'objet possède des enfants : (#GET{enfants}|=={oui}|?{oui,non}).]</div>
]

<BOUCLE_public(CONDITION){si #ENV{appel_menu}|et{#GET{visible}|=={oui}}}>
	#SET{url, #INFO_URL{#ENV{type_objet}, #GET{id_objet}}}
	<li class="site-nav_item[ (#ENV{css})]"[ data-type-link="(#GET{enfants}|=={oui}|?{dropdown,link}|trim)"]>
    <a class="site-nav_link" href="#GET{url}"[ data-state="(#GET{id_objet}|menus_exposer{#ENV{type_objet}, #ENV*{env}, active})"][ data-menu-show="sitenavSection-(#GET{id_objet})"]>[(#GET{titre})]</a>
</BOUCLE_public>
